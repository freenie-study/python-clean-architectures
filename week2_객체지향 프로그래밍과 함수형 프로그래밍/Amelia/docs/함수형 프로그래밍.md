# 함수형 프로그래밍
: 프로그래밍 그 자체보다 앞서 등장, 핵심 기반은 람다(lambda) 계산법으로 1930년대에 Alonzo Church가 개발

### 불변성과 아키텍처
- 경합(race) 조건, 교착상태(deadlock), 동시 업데이트(concurrent update) 등의 문제는 가변 변수로 인해 발생
- lock이 가변적이지 않다면 교착상태 일어나지 않음
- 저장 공간이 무한하고 프로세서 속도가 무한히 빠르다면 불변성 가능하지만, 자원은 유한하므로 일종의 타협 필요

### 가변성의 분리
<img src="https://user-images.githubusercontent.com/86825735/203103012-09224ea8-3612-4da4-b208-210be5b9f97b.jpg" width="200" />

- 가변 컴포넌트와 불변 컴포넌트로 분리
- 불변 컴포넌트에서는 순수하게 함수형 방식으로만 작업이 처리되며, 어떤 가변 변수도 사용되지 않음
- 불변 컴포넌트는 변수의 상태를 변경할 수 있는 하나 이상의 다른 컴포넌트와 통신
- 트랜젝션 메모리와 같은 실천법을 사용하여 동시업데이트와 경합 조건 문제로부터 가변 변수 보호
- 변수를 변경하는 컴포넌트와 변경하지 않는 컴포넌트 분리


### 이벤트 소싱(Event Sourcing)
- 수명주기 동안만 문제없이 동작할 정도의 저장공간과 처리능력만 있으면 충분(무한한 저장공간과 처리능력이 필요하지 않음)
- 상태가 아닌 트랜잭션을 저장하는 전략
- 결과적으로 CRUD가 아닌 CR만 수행하므로 동시 업데이트 문제 일어나지 않는다
- 이벤트 소싱은 불변성을 이용하여 데이터를 저장하는 방법

### 결론
- 구조적 프로그래밍은 제어흐름의 직접적인 전환에 부과되는 규율이다
- 객체 지향 프로그래밍은 제어흐름의 간접적인 전환에 부과되는 규율이다
- 함수형 프로그래밍은 변수 할당에 부과되는 규율이다
